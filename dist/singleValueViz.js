!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.singleValueViz=n():e.singleValueViz=n()}(window,(function(){return d={9:function(module,exports){eval("var vis = {\n    options: {\n        html_template: {\n            type: 'string',\n            label: 'HTML Template',\n            default: \"<p>{{ rendered_value }}</p>\"\n        },\n        title: {\n            type: 'string',\n            label: 'Title'\n        }\n    },\n    // tslint:disable-next-line:no-empty\n    create: function (element, _config) {\n        element.innerHTML = \"\\n      <style>\\n      .container {\\n        height: 100%;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        text-align: center;\\n        font-size: 52px;\\n      }\\n\\n      .title {\\n        height: 100%;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        text-align: center;\\n        font-size: 36px;\\n        word-wrap: break-word;\\n        font-color: grey;\\n      }\\n      </style>\\n    \";\n        var container = element.appendChild(document.createElement('div'));\n        var renderedValue = document.createElement('div');\n        var title = document.createElement('div');\n        title.className = 'title';\n        title.id = 'content-title';\n        container.className = 'container';\n        this._textElement = container.appendChild(renderedValue);\n        container.appendChild(title);\n    },\n    updateAsync: function (data, element, config, queryResponse, details, doneRendering) {\n        this.clearErrors();\n        var firstRow = data[0];\n        var qFields = queryResponse.fields;\n        if (qFields.dimension_like.length === 0 &&\n            qFields.measure_like.length === 0) {\n            this.addError({\n                title: \"No visible fields\",\n                message: \"At least one dimension, measure or table calculation needs to be visible.\"\n            });\n        }\n        var firstCell = firstRow[qFields.dimension_like.length > 0 ? qFields.dimension_like[0].name : qFields.measure_like[0].name];\n        var formatValue = function (x) { return (isNaN(parseFloat(x))) ? String(x).replace(/['\"]+/g, '') : parseFloat(x).toFixed(0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','); };\n        var htmlForCell = formatValue(LookerCharts.Utils.filterableValueForCell(firstCell));\n        var htmlTemplate = config && config.html_template || this.options.html_template.default;\n        var htmlFormatted = htmlTemplate.replace(/{{.*}}/g, htmlForCell);\n        // const container = element.appendChild(document.createElement('div'))\n        // const content = document.createElement('p')\n        // content.innerHTML = htmlFormatted\n        this._textElement.innerHTML = htmlFormatted;\n        // const title = element.appendChild(document.createElement('p'))\n        element.querySelector('#content-title').textContent = config.title;\n        // container.appendChild(content)\n        // container.appendChild(title)\n        // container.appendChild(title)\n        // container.appendChild(containerStyle)\n        // container.className = 'container'\n        // this.svg.textContent = container.textContent\n        // this.svg = d3.select(element).append('svg').attr('class', 'single-value-vis')\n        // element.innerHTML = container.innerHTML\n        doneRendering();\n    }\n};\nlooker.plugins.visualizations.add(vis);\n\n\n//# sourceURL=webpack://%5Bname%5D/./src/visualizations/single_value_viz.ts?")}},e={},f.m=d,f.c=e,f.d=function(e,n,t){f.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,n){if(1&n&&(e=f(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)f.d(t,i,function(n){return e[n]}.bind(null,i));return t},f.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(n,"a",n),n},f.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},f.p="",f(f.s=9);function f(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return d[n].call(t.exports,t,t.exports,f),t.l=!0,t.exports}var d,e}));